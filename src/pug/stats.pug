+section('stats')
  input(type='hidden' value='1' name='attr_Wound_Divisor')
  input(type='hidden' value='0' name='attr_Wound_Ref_Mod')
  input(type='hidden' value='0' name='attr_Damage_Bonus')
  div.cp-2020__stats__view-grid
    each name, stat in data.stats
      input.cp-2020__stats__value-indicator(
        type='hidden'
        disabled='true'
        name=`attr_${stat}_ind`
        value=`@{${stat}}`
      )
      +box.cp-2020__stat
        div.cp-2020__stat__total-wrapper
          label.cp-2020__stat__total-inner(for=`attr_${stat}_Base`)
            div.cp-2020__stat__name=name
            div.cp-2020__stat__total
              span.cp-2020__stat__abbr=`[${stat}]`
              span.cp-2020__stat__value(name=`attr_${stat}`)
          div.cp-2020__stat__breakdown
            div.cp-2020__stat__component.cp-2020__stat__component
              input.cp-2020__stat__value(
                type='number'
                id=`attr_${stat}_Base`
                name=`attr_${stat}_Base`
                min='2'
                max='10'
              )
              span.cp-2020__stat__key--value BASE
            div.cp-2020__stat__component.cp-2020__stat__component
              input.cp-2020__stat__value(
                type='number'
                name=`attr_${stat}_Mod`
                value='0'
              )
              span.cp-2020__stat__key--value MOD.
            div.cp-2020__stat__component.cp-2020__stat__component
              span.cp-2020__stat__value.cp-2020__group--span(name=`attr_${stat}_Damage_Mod`)
              span.cp-2020__stat__key--value DAM.

        div.cp-2020__stat__roll-btns

          +rollBtn(
            `${name} check`,
            `${stat}_stat`,
            `&{template:unskilled-check}
              {{name=Stat Check}}
              {{handle=@{Handle}}}
              {{statName=${stat}}}
              {{stat=@{${stat}}}}
              {{modifier=[[?{Modifier|0}+1d0]]}}
              {{total=[[1d10!
                + @{${stat}}
                + ?{Modifier|0}]]
              }}
              {{fumble=[[1d10]]}}`
          ).cp-2020__stat__check-btn

          +rollBtn(
            `${name} save`,
            `${name}_save`,
            `&{template:save-template}
              {{handle=@{Handle}}}
              {{targetName=${stat}}}
              {{roll=[[1d10]]}}
              {{targetValue=[[@{${stat}}]]}}
              {{failMsg=${stat}&nbsp;save&nbsp;failed.}}
              {{successMsg=${stat}&nbsp;save&nbsp;succeeded.}}`
          ).cp-2020__stat__save-btn





    input.cp-2020__stats__value-indicator(
      disabled='true'
      name='attr_Humanity_ind'
      value='@{Hum|0}'
    )
    +box.cp-2020__stat
      label(for='attr_Hum')
        span.cp-2020__stat__name humanity
        div.cp-2020__stat__total
          span.cp-2020__stat__abbr='[HUM]'
          span(name='attr_Hum').cp-2020__stat__value
      div.cp-2020__stat__roll-btns

    input.cp-2020__stats__value-indicator(
      disabled='true'
      name='attr_Humanity_loss_ind'
      value='@{HL|0}'
    )
    +box.cp-2020__stat
      label
        span.cp-2020__stat__name humanity loss
        div.cp-2020__stat__total
          span.cp-2020__stat__abbr='[HL]'
          span(name='attr_HL').cp-2020__stat__value
      div.cp-2020__stat__roll-btns

    input.cp-2020__stats__value-indicator(
      disabled='true'
      name='attr_Rep_ind'
      value='@{Rep|0}'
    )
    +box.cp-2020__stat
      label(for='Rep')
        span.cp-2020__stat__name reputation
        div.cp-2020__stat__total
          span.cp-2020__stat__abbr='[REP]'
          input.cp-2020__stat__value(
            type='number'
            name='attr_Rep'
            value='0'
          )
      div.cp-2020__stat__roll-btns

    input.cp-2020__stats__value-indicator(
      disabled='true'
      name='attr_Run_ind'
      value='@{Run|0}'
    )
    +box.cp-2020__stat
      label(for='attr_Run')
        span.cp-2020__stat__name run
        div.cp-2020__stat__total
          span.cp-2020__stat__abbr='[RUN]'
          span.cp-2020__stat__value(
            name='attr_Run'
          )
      div.cp-2020__stat__roll-btns

    input.cp-2020__stats__value-indicator(
      disabled='true'
      name='attr_Leap_ind'
      value='@{Leap|0}'
    )
    +box.cp-2020__stat
      label(for='attr_Leap')
        span.cp-2020__stat__name leap
        div.cp-2020__stat__total
          span.cp-2020__stat__abbr='[LEAP]'
          span.cp-2020__stat__value(
            name='attr_Leap'
          )
      div.cp-2020__stat__roll-btns

    input.cp-2020__stats__value-indicator(
      disabled='true'
      name='attr_Carry_ind'
      value='@{Carry|0}'
    )
    +box.cp-2020__stat
      label(for='attr_Carry')
        span.cp-2020__stat__name carry
        div.cp-2020__stat__total
          span.cp-2020__stat__abbr='[CARRY]'
          span.cp-2020__stat__value(
            name='attr_Carry'
          )
      div.cp-2020__stat__roll-btns

    input.cp-2020__stats__value-indicator(
      disabled='true'
      name='attr_Lift_ind'
      value='@{Lift|0}'
    )
    +box.cp-2020__stat
      label(for='attr_Lift')
        span.cp-2020__stat__name lift
        div.cp-2020__stat__total
          span.cp-2020__stat__abbr='[LIFT]'
          span.cp-2020__stat__value(
            name='attr_Lift'
          )
      div.cp-2020__stat__roll-btns
